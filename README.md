# AssistantCoach
 --- Harokopio University ---

 ## Project Description
Το AssistantCoach είναι μια Java εφαρμογή που αναλύει αρχεία
δραστηριοτήτων (.tcx) και υπολογίζει στατιστικά στοιχεία προπόνησης, 
όπως θερμίδες και μέσες τιμές.

## Students
- it2023017 - Ζόγκας Αλέξανδρος 
- it2023053 - Ξυπολίας Κωσταντίνος 
- it2023131 - Ζακέο Μάρκος Νικόλαος

## 📦 Project Structure

```
org.huacoach
├── app
│   ├── AppMain.java
│   ├── NewMain.java
│   └── OldMain.java
│
├── data
│   ├── ActivityRepository.java
│   ├── TcxFileRepository.java
│   └── UserProfileRepository.java
│
├── enums
│   ├── Sex.java
│   └── SportType.java
│
├── interfaces
│   ├── FileActions.java
│   └── AboutActions.java
│
├── model
│   ├── Lap.java
│   ├── Track.java
│   ├── Trackpoint.java
│   ├── UserProfile.java
│   └── XMLActivity.java
│
├── parser
│   └── TcxFileParser.java
│
├── services
│   ├── ActivityPrinter.java
│   ├── ActivityFileService.java
│   ├── CaloriesCalculator.java
│   └── StatisticsCalculator.java
│
├── ui
│   ├── MainFrame.java
│   │
│   ├── menu
│   │   ├── MenuController.java
│   │   ├── TcxFileController.java
│   │   ├── AboutController.java
│   │   ├── AddActivityDialog.java
│   │   └── ProfileDialog.java
│   │
│   └── tabs
│       ├── TabController.java
│       ├── ActivitiesPanel.java
│       └── SummaryPanel.java
│
└── validation
    └── ArgsValidator.java
```

## How It Works Without UI
1. Γίνεται έλεγχος ορισμάτων εισόδου
2. Διαβάζονται τα αρχεία TCX
3. Δημιουργούνται αντικείμενα Activity / Lap / Trackpoint / Track.
4. Υπολογίζονται στατιστικά
5. Εκτυπώνονται τα αποτελέσματα

## Explain the Structure and Classes
### org.huacoach.app
**Ρόλος**: το “entry point” της εφαρμογής (CLI).
- **Μain**
 - Ελέγχει τα arguments της γραμμής εντολών μέσω ArgsValidator.
 - Διαβάζει τα αρχεία TCX που δόθηκαν, χρησιμοποιώντας τον TcxFileParser.
 - Αποθηκεύει τις έγκυρες δραστηριότητες (XMLActivity) σε λίστα.
 - Αν δεν βρεθεί καμία έγκυρη δραστηριότητα, τερματίζει.
 - Για κάθε δραστηριότητα, εκτυπώνει τα αποτελέσματα μέσω ActivityPrinter, λαμβάνοντας υπόψη και το βάρος (αν δόθηκε).
### org.huacoach.data
**Ρόλος**: Το πακέτο data αποτελεί το επίπεδο διαχείρισης και πρόσβασης στα δεδομένα της εφαρμογής.
Είναι υπεύθυνο για την αποθήκευση, την ανάκτηση και τη διαχείριση των βασικών οντοτήτων, χωρίς να περιέχει λογική υπολογισμών 
ή κώδικα διεπαφής χρήστη.
   - **ActivityRepository**: Η κλάση ActivityRepository λειτουργεί ως κεντρικό αποθετήριο δραστηριοτήτων. Αναλαμβάνει τη συλλογή, αποθήκευση και παροχή πρόσβασης στις δραστηριότητες.
   - **TcxFileRepository**:  Η κλάση TcxFileRepository είναι υπεύθυνη για την αποθηκεύει τα αρχεία τύπου .tcx τα οποία έχει επιλέξει ή που χρησιμοποιήει ο χρήστης κατά την εκτέλεση της εφαρμογής.
   - **UserProfileRepository**: Η κλάση UserProfileRepository είναι υπεύθυνη για την αποθήκευση και διαχείριση του UserProfile της εφαρμογής. Η εφαρμογή υποθέτει single-user περιβάλλον, επομένως το repository διατηρεί ένα μόνο profile.
### org.huacoach.enums
**Ρόλος**: προσφαίρει σταθερές τιμές
### org.huacoach.interfaces
**Ρόλος**: Το πακέτο interfaces περιλαμβάνει τα συμβόλαια (interfaces) της εφαρμογής.
 - **AboutActions**: Το interface AboutActions ορίζει τις ενέργειες που σχετίζονται με τις πληροφορίες της εφαρμογής.
 - **FileActions**: Το interface FileActions ορίζει τις βασικές ενέργειες που σχετίζονται με τη διαχείριση αρχείων.
### org.huacoach.model
**Ρόλος**: τα “data objects” (οντότητες) που αναπαριστούν το περιεχόμενο του TCX.
  - **XMLActivity**: Η κλάση XMLActivity είναι ένα data object που αναπαριστά μία αθλητική δραστηριότητα από αρχείο TCX και αποθηκεύει τον τύπο αθλήματος, τον χρόνο έναρξης και τα laps της δραστηριότητας.
  - **Lap** : Η κλάση `Lap` αναπαριστά **ένα τμήμα (lap) μιας δραστηριότητας**, αποθηκεύοντας τον **χρόνο έναρξης** του και τα **tracks** που περιέχει.
  - **Track**: Η κλάση Track αναπαριστά μια ακολουθία από trackpoints, δηλαδή τα διαδοχικά σημεία της κίνησης μέσα σε ένα lap.
  - **UserProfile**: Η κλάση UserProfile αναπαριστά το προφίλ του χρήστη της εφαρμογής και χρησιμοποιείται για την αποθήκευση βασικών προσωπικών στοιχείων που επηρεάζουν τη λειτουργία και τους υπολογισμούς της εφαρμογής.
  - **Trackpoint**: Η κλάση Trackpoint αναπαριστά ένα στιγμιότυπο της δραστηριότητας στον χρόνο, αποθηκεύοντας τη χρονική στιγμή και τις βασικές μετρήσεις (θέση, υψόμετρο, απόσταση, παλμούς και cadence).
## org.huacoach.parser
**Ρόλος**: διάβασμα αρχείων και μετατροπή από XML → model αντικείμενα.
   - **TcxFileParser**: Η κλάση TcxFileParser είναι υπεύθυνη για την ανάγνωση των αρχείων .tcx και τη μετατροπή τους σε μορφή που μπορεί να επεξεργαστεί η εφαρμογή. Λειτουργεί ουσιαστικά ως "μεταφραστής" ανοίγει το αρχείο XML, διαβάζει τη δομή του και εξάγει όλα τα χρήσιμα δεδομένα, όπως τον χρόνο, τις συντεταγμένες, τους καρδιακούς παλμούς και το υψόμετρο, δημιουργώντας τελικά ένα πλήρες αντικείμενο XMLActivity
## og.huacoach.services
**Ρόλος**: λειτουργίες πάνω στα δεδομένα
   - **StatisticsCalculator**: Η κλάση StatisticsCalculator λειτουργεί ως μια βιβλιοθήκη υπολογισμών για την εφαρμογή. Περιέχει αποκλειστικά στατικές μεθόδους που αναλαμβάνουν να επεξεργαστούν τα ακατέργαστα δεδομένα των γύρων  και των σημείων. Σκοπός της είναι η εξαγωγή των τελικών στατιστικών της άσκησης, όπως η συνολική διάρκεια, η συνολική απόσταση, η μέση ταχύτητα, ο μέσος ρυθμός  και οι μέσοι καρδιακοί παλμοί, ώστε να παρουσιαστούν στον χρήστη.
   - **ActivityFileService**: Η κλάση ActivityFileService λειτουργεί ως ενδιάμεσο επίπεδο (service) μεταξύ της ανάγνωσης αρχείων και της αποθήκευσης δραστηριοτήτων.
   - **ActivityPrinter**: Η κλάση ActivityPrinter είναι υπεύθυνη για την εμφάνιση των αποτελεσμάτων στην κονσόλα. Σκοπός της είναι να παρουσιάσει μια καθαρή και ευανάγνωστη αναφορά για κάθε δραστηριότητα. Για να το πετύχει αυτό, συγκεντρώνει τους υπολογισμούς (όπως χρόνο, απόσταση και θερμίδες) από τις υπόλοιπες κλάσεις και τους μορφοποιεί σωστά (π.χ. μετατρέπει τα δευτερόλεπτα σε μορφή ώρας). Επιπλέον, προσαρμόζει αυτόματα το τι θα εμφανίσει ανάλογα με το άθλημα: για παράδειγμα, αν είναι τρέξιμο δείχνει τον ρυθμό (pace), ενώ στα υπόλοιπα αθλήματα δείχνει τη μέση ταχύτητα.
   - **CaloriesCalcutaor**: Η κλάση CaloriesCalcutaor υπολογίζει τις θερμίδες που καταναλώθηκαν από μία άσκηση. Περιέχει δύο μεθόδους. Την μέθοδο calculateCaloriesSimple που υπολογίζει με τον πρώτο τρόπο δηλαδή μόνο μέσω του βάρους τις θερμίδες. Και την μέθοδο calculateCaloriesAdvanced που υπολογίζει τις θερμίδες με τον πιο έγκαιρο τρόπο μέσω του βάρους, της ηλικίας, του φύλου και τους παλμούς. Στο πρόγραμμα χρησιμοποιήθηκε μόνο η πρώτη μέθοδος, η δεύτερη μόνο υλοποιήθηκε χωρίς να έχει εφαρμοστεί.
## org.huacoach.ui
**Ρόλος**: Το πακέτο ui περιλαμβάνει ολόκληρη τη γραφική διεπαφή χρήστη (GUI) της εφαρμογής. Αποτελεί το επίπεδο παρουσίασης (presentation layer) και είναι υπεύθυνο αποκλειστικά για την αλληλεπίδραση με τον χρήστη και την εμφάνιση των δεδομένων.
### ui.menu
   **Ρόλος**: Το υποπακέτο menu περιλαμβάνει τις κλάσεις που σχετίζονται με το menu της εφαρμογής και τα αντίστοιχα παράθυρα διαλόγου (dialogs).       
   - **MenuController**: Δημιουργεί και διαχειρίζεται το menu bar της εφαρμογής και συνδέει τις επιλογές του menu με τις αντίστοιχες ενέργειες.
   - **TcxFileController**: Διαχειρίζεται τις ενέργειες που σχετίζονται με τα αρχεία δραστηριοτήτων (άνοιγμα και χρήση αρχείων).
   - **AboutController**: Υπεύθυνος για την εμφάνιση πληροφοριών σχετικά με την εφαρμογή και τους δημιουργούς.
   - **AddActivityDialog**: Παράθυρο διαλόγου για την προσθήκη νέας δραστηριότητας από τον χρήστη.
   - **ProfileDialog**: Παράθυρο διαλόγου για την προβολή και επεξεργασία του προφίλ χρήστη.
### ui.tabs
   **Ρόλος**: Το υποπακέτο tabs περιλαμβάνει τα στοιχεία της διεπαφής που εμφανίζονται στο κεντρικό τμήμα του παραθύρου, οργανωμένα σε καρτέλες.
   - **TabController**: Διαχειρίζεται τις καρτέλες της εφαρμογής και τον συντονισμό μεταξύ τους.
   - **ActivitiesPanel**: Παρουσιάζει αναλυτικές πληροφορίες και στατιστικά για τις δραστηριότητες.
   - **SummaryPanel**: Παρουσιάζει συνοπτικά στατιστικά και γενική εικόνα της προόδου του χρήστη.
### MainFrame
   **Ρόλος**: Η κλάση MainFrame αποτελεί το κύριο παράθυρο της εφαρμογής. Λειτουργεί ως σημείο σύνδεσης όλων των στοιχείων του UI, φιλοξενώντας το menu και τις καρτέλες, χωρίς να περιέχει λογική επεξεργασίας δεδομένων.
## org.huacoach.validation
**Ρόλος**: έλεγχος εισόδου (κυρίως command line args).
  - **ArgsValidator**: Η κλάση ArgsValidator είναι υπεύθυνη για τον έλεγχο των στοιχείων που δίνει ο χρήστης κατά την εκκίνηση της εφαρμογής. Συγκεκριμένα, ελέγχει αν έχει δοθεί το προαιρετικό βάρος (με το -w) και επιβεβαιώνει ότι τα αρχεία που ζητήθηκαν υπάρχουν στον δίσκο και έχουν τη σωστή μορφή (.tcx). Σκοπός της είναι να φιλτράρει τυχόν λανθασμένα δεδομένα πριν ξεκινήσει η επεξεργασία, επιστρέφοντας είτε τα έγκυρα στοιχεία είτε το ανάλογο μήνυμα λάθους



## Instructions
Για να τρέξετε το πρόγραμμα θα πρέπει να να μεταβείται στον φάκελο του προγράμματος και έπειτα θα πρέπει
να πάτε στο out/artifacts/AssistantCoach_jar (στον οποίο φάκελο υπάρχουν δυο αρχεία tcx) και επείτα μπορείτε να τρέξετε τις εξής εντολές:

```
out/
└── artifacts/
    ├── AssistantCoach.jar
    └── AssistantCoach_jar/
        ├── activity.tcx
        └── activityTwo.tcx
```

Εάν θέλετε να τρέξετε **πολλά αρχεία ταυτόχρονα**, χρησιμοποιήστε την παρακάτω εντολή για να λάβετε τα στατιστικά των
ασκήσεων:

- java -jar AssistantCoach.jar activity.tcx activityTwo.tcx

Εάν θέλετε να δώσετε **μέσα από την κονσόλα το βάρος** για να υπολογίσετε τις θερμίδες, αυτό γίνεται με την ακόλουθη εντολή:

- java -jar AssistantCoach.jar -w 65.9 activity.tcx activityTwo.tcx

